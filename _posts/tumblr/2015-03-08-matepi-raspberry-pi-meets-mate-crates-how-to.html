---
layout: post
title: Matepi - Raspberry Pi meets mate crates - How To
date: '2015-03-08T22:36:08+01:00'
tags:
- leds
- raspberry pi
- ws2801
- matelight
- matepi
- tech
- nerdy
- nerdstuff
- nerd
tumblr_url: http://kryptokommunist.tumblr.com/post/113103168449/matepi-raspberry-pi-meets-mate-crates-how-to
---
<p>First of all, why would you want a matepi? Well, that&rsquo;s an easy one: Because it&rsquo;s awesome! Here are some demo reels showing three possible applications:<br/></p><p><br/></p><figure class="tmblr-embed" data-provider="youtube" data-orig-width="470" data-orig-height="304" data-url="https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DJ9Wb-Me6LFc"><iframe width="470" height="281" id="youtube_iframe" src="https://www.youtube.com/embed/J9Wb-Me6LFc?feature=oembed&amp;enablejsapi=1&amp;origin=https://safe.txmblr.com&amp;wmode=opaque" frameborder="0"></iframe></figure><figure class="tmblr-embed" data-provider="youtube" data-orig-width="470" data-orig-height="304" data-url="https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D125SNfcAyic%26t%3D153"><iframe width="470" height="281" src="https://www.youtube.com/embed/125SNfcAyic?feature=oembed&amp;enablejsapi=1&amp;origin=https://safe.txmblr.com&amp;wmode=opaque" frameborder="0"></iframe></figure><figure class="tmblr-embed" data-provider="youtube" data-orig-width="470" data-orig-height="304" data-url="https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D-vg9KkH5iTg%26t%3D19"><iframe width="470" height="281" src="https://www.youtube.com/embed/-vg9KkH5iTg?feature=oembed&amp;enablejsapi=1&amp;origin=https://safe.txmblr.com&amp;wmode=opaque" frameborder="0"></iframe></figure><p><br/></p><p>So is it hard? That depends on your prior knowledge of soldering, leds, the raspberry pi and coding. In the end it turned out to be less complex than i feared. What do you need to build one yourself?<!--more--> Depending on your preferences the figures might differ:<br/></p><ul><li>500 (20 as safety buffer) <a href="http://www.alibaba.com/product-detail/Led-ws2801-led-3014-digital-led_60045280535.html" target="_blank">WS2801 led pixels</a><br/></li><li>30 &ldquo;Club Mate&rdquo; crates (It&rsquo;s quite hard to get your hands on that many)<br/></li><li>3 x 10 <a href="http://www.amazon.de/gp/product/B00HQZ3SLA?psc=1&amp;redirect=true&amp;ref_=oh_aui_detailpage_o08_s00" target="_blank">male/female connectors</a>, for power supply <br/></li><li>20 <a href="http://www.ebay.com/itm/10x-JST-SM-4-Pin-4P-Connector-Pairs-4M-4F-WS2801-LPD8806-Addressable-LED-/151096281844" target="_blank">JST SM Connectors,</a> for data <br/></li><li>A <a href="http://www.alibaba.com/product-detail/S-150W-150-W-lab-150watt_60018566879.html?s=p" target="_blank">150 Watt 5V power supply </a><br/></li><li>15 metres of three-wire cable, for data (and power supply after seperating)<br/></li><li>150 metres of <a href="http://www.amazon.de/Alufolie-lose-EXTRA-STARK-Rolle/dp/B00J8G16DC/ref=sr_1_3?ie=UTF8&amp;qid=1425848956&amp;sr=8-3&amp;keywords=alufolie" target="_blank">aluminium foil </a><br/></li><li>enough <a href="http://www.amazon.de/Kingdiscount-12000058-Schrumpfschlauch-Sortiment-100-teilig/dp/B003H9CJ1Y/ref=sr_1_1?ie=UTF8&amp;qid=1425849186&amp;sr=8-1&amp;keywords=schrumpfschlauch" target="_blank">shrinking tube</a> (about 150 small tubes + 50 medium sized ones)<br/></li></ul><p>You should furthermore have:</p><ul><li>soldering iron<br/></li><li>solder<br/></li><li>soldering aid<br/></li><li>a <a href="http://www.amazon.de/Knipex-Nr-1262180-Nr-0305457-Automatische-Abisolierzange/dp/B000PAR60C/ref=sr_1_13?ie=UTF8&amp;qid=1425847080&amp;sr=8-13&amp;keywords=knipex" target="_blank">cable stripper</a> <br/></li></ul><p>To get started every single led on the pixels should be testet for production errors! This was my biggest lesson learned, testing is very important, if you ingnore that, you can end up having to cut out a single led. And soldering a single led in a pixel string isn&rsquo;t very fun. There is a neat tutorial on details regarding the pixel string on the resourceful <a href="https://learn.adafruit.com/12mm-led-pixels/wiring" target="_blank">Adafruit website</a>. For testing puposes you can simply use the <a href="https://github.com/scottjgibson/PixelPi" target="_blank">PixelPi library</a>.<br/></p><p><br/></p><figure><img src="http://78.media.tumblr.com/80e25ee708275adb2ee66424b63af5ba/tumblr_inline_nkwxxaPmVS1s0bsjq.jpg" alt="image"/></figure><p class="caption">Test driven development also makes sense for hardware duh!</p><p>The next step is cleaning the crates and the bottles. After that every bottle has to be wrapped in aluminium foil. Then poke holes in the bottle caps with a screw driver (and a hammer). If that is done, you have to cut the led pixel strings in right length (20) and solder the connectors onto the string endings where necessary (There are about 150 cables to solder, since the pixel strings come in a length of 50).<br/></p><p><br/></p><figure><img src="http://78.media.tumblr.com/3ddc4df5022eed63b150bc90a460a6db/tumblr_inline_nkwy0qei2Z1s0bsjq.jpg" alt="image"/></figure><p class="caption">You have to drink a lot of mate&hellip;</p><figure><img src="http://78.media.tumblr.com/1d119d0bec4dbbc2f8138b9aacebccac/tumblr_inline_nkwy1zAolu1s0bsjq.jpg" alt="image"/></figure><p class="caption">The most useful thing i have bought since a year!</p><figure><img src="http://78.media.tumblr.com/13e85be65337264e377a2f08fb036471/tumblr_inline_nkwy2lB1XQ1s0bsjq.jpg" alt="image"/></figure><p class="caption">Be prepared to create a total mess</p><p>Now just insert the led pixel strings in the bottles. Stack the crates, connect the pixel strings to power supply and to the raspberry pi and you&rsquo;re ready to go. The crate rows can be directly connected, but you need an extension cord for going to the next row below. With that the hardware part is finished.<br/></p><p><br/></p><figure><img src="http://78.media.tumblr.com/ed3ff6188184201d8fba84f5b6de1ded/tumblr_inline_nkwy3cyZcQ1s0bsjq.jpg" alt="image"/></figure><p class="caption">The structure ensures easy connectable endpoints for rows</p><figure><img src="http://78.media.tumblr.com/01a563902d1ae213a3f4f9ac479eb1d0/tumblr_inline_nkwy3wRKo91s0bsjq.jpg" alt="image"/></figure><p class="caption">480 leds in 480 bottles in 30 crates consuming about 150 watts power if all leds are lit white</p><figure><img src="http://78.media.tumblr.com/06492b91e4a619e5081e7955054bf37f/tumblr_inline_nkwy4qd5tU1s0bsjq.jpg" alt="image"/></figure><br/><figure><img src="http://78.media.tumblr.com/cf4e458290d24fbce0ad14115a20cfdd/tumblr_inline_nkwy4xYBVO1s0bsjq.jpg" alt="image"/></figure><p class="caption">Network connection via ethernet</p><figure><img src="http://78.media.tumblr.com/d05e4e478135c5e66ac3a1ed24ff73bf/tumblr_inline_nkwy56Cjvd1s0bsjq.jpg" alt="image"/></figure><p class="caption">Power supply</p><p>For <a href="https://github.com/kryptokommunist/matepi" target="_blank">my software implementation</a> i prefered using python for networking and C++ for transforming and pushing the data to the matepi. Unfortunately check summs aren&rsquo;t implemented yet, which causes some artefacts. The Raspberry pi runs a server which listens on port 1337 for UDP traffic and you can send data with various applications as demoed: <a href="https://github.com/uwekamper/matelight-gifplayer" target="_blank">Play gifs</a>, <a href="https://github.com/c-base/matetv" target="_blank">stream your webcam</a>, display a <a href="https://github.com/c-base/mlaudiospectrum" target="_blank">spectrum analyzer</a></p><p><br/></p><figure><img src="http://78.media.tumblr.com/43d091d36a8fb4033d166c7b4db1b19b/tumblr_inline_nkwy5h4m3h1s0bsjq.jpg" alt="image"/></figure><figure><p class="caption">The backside is just as awesome as the front</p><img src="http://78.media.tumblr.com/6e49f4d1dc1c05525a93b1ef28d32ac4/tumblr_inline_nkwy5utBza1s0bsjq.jpg" alt="image"/></figure><p class="caption">Result: nerd heaven</p>
